"use strict";(self.webpackChunkreact_underground=self.webpackChunkreact_underground||[]).push([[461],{3461:function(n,r,e){e.r(r),e.d(r,{default:function(){return g}});var t,i,o,l=e(5893),d=e(7294),a=e(4184),s=e.n(a),c=e(6792),p=d.forwardRef((({bsPrefix:n,className:r,striped:e,bordered:t,borderless:i,hover:o,size:d,variant:a,responsive:p,...h},u)=>{const x=(0,c.vE)(n,"table"),f=s()(r,x,a&&`${x}-${a}`,d&&`${x}-${d}`,e&&`${x}-${"string"==typeof e?`striped-${e}`:"striped"}`,t&&`${x}-bordered`,i&&`${x}-borderless`,o&&`${x}-hover`),m=(0,l.jsx)("table",{...h,className:f,ref:u});if(p){let n=`${x}-responsive`;return"string"==typeof p&&(n=`${n}-${p}`),(0,l.jsx)("div",{className:n,children:m})}return m})),h=e(5554),u=e(4083),x=e(8569),f=e(2788).ZP.tbody(t||(i=["\n    width:100%;\n    background-color: transparent !important;\n    &>tr{\n        border-radius:16px;\n        margin: 8px 0;\n        position:relative;\n        overflow:hidden;\n        background-color:",";\n        backdrop-filter:blur(1px);\n        box-shadow: 0px 2px 1.4em -13px ",";\n        &>td{\n            display:inline-flex;\n            align-items:center;\n            width:100%;\n            border-bottom:none;\n            &:has(img){\n                width:auto !important;\n            }\n            &:not(:nth-child(2)){\n                width:80px;\n            }\n            &:first-child > div.countControl{\n                display:inline-flex;\n                align-self:center;\n                justify-content:center;\n                border-radius:8px;\n                width:100%;\n                border: 1px solid ",";\n                border-radius:8px;\n                overflow:hidden;\n                text-align: center;\n                font-weight:bold;\n                span:nth-child(2){\n                    width:50%;  \n                }\n                span:not(:nth-child(2)){\n                    background-color:",";\n                    color:",";\n                    width:36px;\n                    \n                }\n                span:first-child{\n                    margin-right: 2px;\n                }\n                span:last-child{\n                    margin-left: 2px;\n                }\n            }\n        }\n        &:last-child{\n            width:80px;\n        }\n        }\n    }\n"],o=["\n    width:100%;\n    background-color: transparent !important;\n    &>tr{\n        border-radius:16px;\n        margin: 8px 0;\n        position:relative;\n        overflow:hidden;\n        background-color:",";\n        backdrop-filter:blur(1px);\n        box-shadow: 0px 2px 1.4em -13px ",";\n        &>td{\n            display:inline-flex;\n            align-items:center;\n            width:100%;\n            border-bottom:none;\n            &:has(img){\n                width:auto !important;\n            }\n            &:not(:nth-child(2)){\n                width:80px;\n            }\n            &:first-child > div.countControl{\n                display:inline-flex;\n                align-self:center;\n                justify-content:center;\n                border-radius:8px;\n                width:100%;\n                border: 1px solid ",";\n                border-radius:8px;\n                overflow:hidden;\n                text-align: center;\n                font-weight:bold;\n                span:nth-child(2){\n                    width:50%;  \n                }\n                span:not(:nth-child(2)){\n                    background-color:",";\n                    color:",";\n                    width:36px;\n                    \n                }\n                span:first-child{\n                    margin-right: 2px;\n                }\n                span:last-child{\n                    margin-left: 2px;\n                }\n            }\n        }\n        &:last-child{\n            width:80px;\n        }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,t=i),x.gt.grayGlass,x.gt.purple,x.gt.purple,x.gt.cream,x.gt.purple),m=function(){return m=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n},m.apply(this,arguments)},g=function(){var n=u.D.actions.removeToBuy,r=(0,h.C)((function(n){return n.toBuyReducer})).list,e=(0,h.T)(),t=function(t,i){var o=function(n,r,e){if(e||2===arguments.length)for(var t,i=0,o=r.length;i<o;i++)!t&&i in r||(t||(t=Array.prototype.slice.call(r,0,i)),t[i]=r[i]);return n.concat(t||Array.prototype.slice.call(r))}([],r,!0);switch(t){case"remove":o.splice(i,1),e(n(o));break;case"add":console.log("add item ".concat(r[i]))}},i=(0,d.useMemo)((function(){var n=[];return r.forEach((function(e,t){var i=r.filter((function(n){return n.name===e.name})),o=n.find((function(n){return n.listItem.name===e.name})),l=i.length;!o&&n.push({listItem:e,itemsCount:l,index:t})})),n.map((function(n,r){return function(n,r){var e=n.listItem,i=n.itemsCount,o=e.img_link,d=e.name,a=e.current_prices;return e.store_name,(0,l.jsxs)("tr",m({className:"d-flex w-100 h-100",style:{color:"white",fontSize:".7em"}},{children:[(0,l.jsx)("td",{children:(0,l.jsxs)("div",m({className:"countControl"},{children:[(0,l.jsx)("span",m({onClick:function(n){return t("remove",r)}},{children:"-"})),(0,l.jsx)("span",{children:i}),(0,l.jsx)("span",m({onClick:function(n){return t("add",r)}},{children:"+"}))]}))}),(0,l.jsx)("td",{children:d}),(0,l.jsx)("td",{children:a.price_reg__min}),(0,l.jsx)("td",{children:a.price_promo__min}),(0,l.jsx)("td",{children:(0,l.jsx)("img",{src:o,alt:"product_image",style:{width:"50px",height:"50px",borderRadius:"8px"}})})]}),"listItem".concat(r))}(n,r)}))}),[r]);return(0,l.jsx)("div",m({className:"px-2"},{children:(null==r?void 0:r.length)>0?(0,l.jsx)(p,{children:(0,l.jsx)(f,m({style:{backgroundColor:x.gt.gray}},{children:i}))}):(0,l.jsx)("p",m({style:{color:x.gt.cream}},{children:"Список покупок пуст"}))}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixHQUFHLENBQUMzQixJQUVKLE9BQ0Usa0JBQUtqQixVQUFVLFFBQU0sV0FDbEJpQixhQUFJLEVBQUpBLEVBQU11QixRQUFTLEdBQ2QsU0FBQyxFQUFLLFdBQ0osU0FBQ3pCLEVBQVUsR0FBQ2dDLE1BQU8sQ0FBRWEsZ0JBQWlCLFlBQWdCLFVBQ25EaEMsUUFJTCxnQkFBR21CLE1BQU8sQ0FBRUMsTUFBTyxhQUFpQixxQ0FJNUMsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0X3VuZGVyZ3JvdW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJvb3RzdHJhcC9lc20vVGFibGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3RfdW5kZXJncm91bmQvLi9zcmMvbW9kdWxlcy9Ub0J1eS9Ub0J1eVN0eWxlcy50cyIsIndlYnBhY2s6Ly9yZWFjdF91bmRlcmdyb3VuZC8uL3NyYy9tb2R1bGVzL1RvQnV5L1RvQnV5LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUJvb3RzdHJhcFByZWZpeCB9IGZyb20gJy4vVGhlbWVQcm92aWRlcic7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgVGFibGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZigoe1xuICBic1ByZWZpeCxcbiAgY2xhc3NOYW1lLFxuICBzdHJpcGVkLFxuICBib3JkZXJlZCxcbiAgYm9yZGVybGVzcyxcbiAgaG92ZXIsXG4gIHNpemUsXG4gIHZhcmlhbnQsXG4gIHJlc3BvbnNpdmUsXG4gIC4uLnByb3BzXG59LCByZWYpID0+IHtcbiAgY29uc3QgZGVjb3JhdGVkQnNQcmVmaXggPSB1c2VCb290c3RyYXBQcmVmaXgoYnNQcmVmaXgsICd0YWJsZScpO1xuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcyhjbGFzc05hbWUsIGRlY29yYXRlZEJzUHJlZml4LCB2YXJpYW50ICYmIGAke2RlY29yYXRlZEJzUHJlZml4fS0ke3ZhcmlhbnR9YCwgc2l6ZSAmJiBgJHtkZWNvcmF0ZWRCc1ByZWZpeH0tJHtzaXplfWAsIHN0cmlwZWQgJiYgYCR7ZGVjb3JhdGVkQnNQcmVmaXh9LSR7dHlwZW9mIHN0cmlwZWQgPT09ICdzdHJpbmcnID8gYHN0cmlwZWQtJHtzdHJpcGVkfWAgOiAnc3RyaXBlZCd9YCwgYm9yZGVyZWQgJiYgYCR7ZGVjb3JhdGVkQnNQcmVmaXh9LWJvcmRlcmVkYCwgYm9yZGVybGVzcyAmJiBgJHtkZWNvcmF0ZWRCc1ByZWZpeH0tYm9yZGVybGVzc2AsIGhvdmVyICYmIGAke2RlY29yYXRlZEJzUHJlZml4fS1ob3ZlcmApO1xuXG4gIGNvbnN0IHRhYmxlID0gLyojX19QVVJFX18qL19qc3goXCJ0YWJsZVwiLCB7IC4uLnByb3BzLFxuICAgIGNsYXNzTmFtZTogY2xhc3NlcyxcbiAgICByZWY6IHJlZlxuICB9KTtcblxuICBpZiAocmVzcG9uc2l2ZSkge1xuICAgIGxldCByZXNwb25zaXZlQ2xhc3MgPSBgJHtkZWNvcmF0ZWRCc1ByZWZpeH0tcmVzcG9uc2l2ZWA7XG5cbiAgICBpZiAodHlwZW9mIHJlc3BvbnNpdmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXNwb25zaXZlQ2xhc3MgPSBgJHtyZXNwb25zaXZlQ2xhc3N9LSR7cmVzcG9uc2l2ZX1gO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHJlc3BvbnNpdmVDbGFzcyxcbiAgICAgIGNoaWxkcmVuOiB0YWJsZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhYmxlO1xufSk7XG5leHBvcnQgZGVmYXVsdCBUYWJsZTsiLCJpbXBvcnQgeyBBcHBDb2xvcnMgfSBmcm9tIFwiQHN0eWxlcy9nbG9iYWxcIjtcbmltcG9ydCBzdHlsZWQgZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCI7XG5cbmV4cG9ydCBjb25zdCBTdHlsZWRCb2R5ID0gc3R5bGVkLnRib2R5YFxuICAgIHdpZHRoOjEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgICAmPnRye1xuICAgICAgICBib3JkZXItcmFkaXVzOjE2cHg7XG4gICAgICAgIG1hcmdpbjogOHB4IDA7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6JHtBcHBDb2xvcnMuZ3JheUdsYXNzfTtcbiAgICAgICAgYmFja2Ryb3AtZmlsdGVyOmJsdXIoMXB4KTtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCAxLjRlbSAtMTNweCAke0FwcENvbG9ycy5wdXJwbGV9O1xuICAgICAgICAmPnRke1xuICAgICAgICAgICAgZGlzcGxheTppbmxpbmUtZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjtcbiAgICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgICBib3JkZXItYm90dG9tOm5vbmU7XG4gICAgICAgICAgICAmOmhhcyhpbWcpe1xuICAgICAgICAgICAgICAgIHdpZHRoOmF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICY6bm90KDpudGgtY2hpbGQoMikpe1xuICAgICAgICAgICAgICAgIHdpZHRoOjgwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAmOmZpcnN0LWNoaWxkID4gZGl2LmNvdW50Q29udHJvbHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OmlubGluZS1mbGV4O1xuICAgICAgICAgICAgICAgIGFsaWduLXNlbGY6Y2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDpjZW50ZXI7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo4cHg7XG4gICAgICAgICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke0FwcENvbG9ycy5wdXJwbGV9O1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6OHB4O1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6Ym9sZDtcbiAgICAgICAgICAgICAgICBzcGFuOm50aC1jaGlsZCgyKXtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6NTAlOyAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNwYW46bm90KDpudGgtY2hpbGQoMikpe1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiR7QXBwQ29sb3JzLmNyZWFtfTtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6JHtBcHBDb2xvcnMucHVycGxlfTtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6MzZweDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNwYW46Zmlyc3QtY2hpbGR7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMnB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzcGFuOmxhc3QtY2hpbGR7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAycHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICY6bGFzdC1jaGlsZHtcbiAgICAgICAgICAgIHdpZHRoOjgwcHg7XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbmA7XG4iLCJpbXBvcnQgUmVhY3QsIHtcbiAgdXNlRWZmZWN0LFxuICB1c2VTdGF0ZSxcbiAgdXNlTWVtbyxcbiAgUmVhY3ROb2RlLFxuICB1c2VDYWxsYmFjayxcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUYWJsZSwgQnV0dG9uIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IHsgdXNlQXBwRGlzcGF0Y2gsIHVzZUFwcFNlbGVjdG9yIH0gZnJvbSBcIi4uLy4uL2hvb2tzL2luZGV4XCI7XG5pbXBvcnQgeyBJVG9CdXksIHRvQnV5U2xpY2UgfSBmcm9tIFwiLi4vLi4vc3RvcmUvcmVkdWNlcnMvVG9CdXlTbGljZVwiO1xuaW1wb3J0IHsgQXBwQ29sb3JzIH0gZnJvbSBcIi4uLy4uL3N0eWxlcy9nbG9iYWxcIjtcbmltcG9ydCB7IFN0eWxlZEJvZHkgfSBmcm9tIFwiLi9Ub0J1eVN0eWxlc1wiO1xuXG5jb25zdCBUb0J1eSA9ICgpID0+IHtcbiAgY29uc3QgeyByZW1vdmVUb0J1eSB9ID0gdG9CdXlTbGljZS5hY3Rpb25zO1xuXG4gIGNvbnN0IHsgbGlzdCB9OiBJVG9CdXkgPSB1c2VBcHBTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLnRvQnV5UmVkdWNlcik7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwRGlzcGF0Y2goKTtcblxuICBjb25zdCBjb3VudENvbnRyb2xIYW5kbGVyID0gKHR5cGU6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG5ld0xpc3QgPSBbLi4ubGlzdF07XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgIG5ld0xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgZGlzcGF0Y2gocmVtb3ZlVG9CdXkobmV3TGlzdCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgY29uc29sZS5sb2coYGFkZCBpdGVtICR7bGlzdFtpbmRleF19YCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0b0J1eUxpc3QgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpdGVtID0gKHByb2R1Y3Q6IGFueSwgaTogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCB7IGxpc3RJdGVtLCBpdGVtc0NvdW50IH0gPSBwcm9kdWN0O1xuICAgICAgY29uc3QgeyBpbWdfbGluaywgbmFtZSwgY3VycmVudF9wcmljZXMsIHN0b3JlX25hbWUgfSA9IGxpc3RJdGVtO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZC1mbGV4IHctMTAwIGgtMTAwXCJcbiAgICAgICAgICBrZXk9e2BsaXN0SXRlbSR7aX1gfVxuICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIsIGZvbnRTaXplOiBcIi43ZW1cIiB9fVxuICAgICAgICA+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3VudENvbnRyb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gb25DbGljaz17KGUpID0+IGNvdW50Q29udHJvbEhhbmRsZXIoXCJyZW1vdmVcIiwgaSl9Pi08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPntpdGVtc0NvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gb25DbGljaz17KGUpID0+IGNvdW50Q29udHJvbEhhbmRsZXIoXCJhZGRcIiwgaSl9Pis8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD57bmFtZX08L3RkPlxuICAgICAgICAgIDx0ZD57Y3VycmVudF9wcmljZXMucHJpY2VfcmVnX19taW59PC90ZD5cbiAgICAgICAgICA8dGQ+e2N1cnJlbnRfcHJpY2VzLnByaWNlX3Byb21vX19taW59PC90ZD5cbiAgICAgICAgICB7LyogPHRkPntzdG9yZV9uYW1lfTwvdGQ+ICovfVxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtpbWdfbGlua31cbiAgICAgICAgICAgICAgYWx0PVwicHJvZHVjdF9pbWFnZVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBcIjUwcHhcIiwgaGVpZ2h0OiBcIjUwcHhcIiwgYm9yZGVyUmFkaXVzOiBcIjhweFwiIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQ6IEFycmF5PGFueT4gPSBbXTtcbiAgICBsaXN0LmZvckVhY2goKGxpc3RJdGVtOiBhbnksIGluZGV4KTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBpc0FkZGVkID0gbGlzdC5maWx0ZXIoKF8pID0+IF8ubmFtZSA9PT0gbGlzdEl0ZW0ubmFtZSk7XG4gICAgICBjb25zdCBpc0luTGlzdCA9IHJlc3VsdC5maW5kKChfKSA9PiBfLmxpc3RJdGVtLm5hbWUgPT09IGxpc3RJdGVtLm5hbWUpO1xuICAgICAgY29uc3QgaXRlbXNDb3VudCA9IGlzQWRkZWQubGVuZ3RoO1xuICAgICAgIWlzSW5MaXN0ID8gcmVzdWx0LnB1c2goeyBsaXN0SXRlbSwgaXRlbXNDb3VudCwgaW5kZXggfSkgOiBudWxsO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQubWFwKChwcm9kdWN0LCBpKSA9PiB7XG4gICAgICByZXR1cm4gaXRlbShwcm9kdWN0LCBpKTtcbiAgICB9KTtcbiAgfSwgW2xpc3RdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMlwiPlxuICAgICAge2xpc3Q/Lmxlbmd0aCA+IDAgPyAoXG4gICAgICAgIDxUYWJsZT5cbiAgICAgICAgICA8U3R5bGVkQm9keSBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IEFwcENvbG9ycy5ncmF5IH19PlxuICAgICAgICAgICAge3RvQnV5TGlzdH1cbiAgICAgICAgICA8L1N0eWxlZEJvZHk+XG4gICAgICAgIDwvVGFibGU+XG4gICAgICApIDogKFxuICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogQXBwQ29sb3JzLmNyZWFtIH19PtCh0L/QuNGB0L7QuiDQv9C+0LrRg9C/0L7QuiDQv9GD0YHRgjwvcD5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUb0J1eTtcbiJdLCJuYW1lcyI6WyJic1ByZWZpeCIsImNsYXNzTmFtZSIsInN0cmlwZWQiLCJib3JkZXJlZCIsImJvcmRlcmxlc3MiLCJob3ZlciIsInNpemUiLCJ2YXJpYW50IiwicmVzcG9uc2l2ZSIsInByb3BzIiwicmVmIiwiZGVjb3JhdGVkQnNQcmVmaXgiLCJjbGFzc2VzIiwidGFibGUiLCJyZXNwb25zaXZlQ2xhc3MiLCJjaGlsZHJlbiIsIlN0eWxlZEJvZHkiLCJyZW1vdmVUb0J1eSIsImxpc3QiLCJzdGF0ZSIsInRvQnV5UmVkdWNlciIsImRpc3BhdGNoIiwiY291bnRDb250cm9sSGFuZGxlciIsInR5cGUiLCJpbmRleCIsIm5ld0xpc3QiLCJzcGxpY2UiLCJjb25zb2xlIiwibG9nIiwidG9CdXlMaXN0IiwidXNlTWVtbyIsInJlc3VsdCIsImZvckVhY2giLCJsaXN0SXRlbSIsImlzQWRkZWQiLCJmaWx0ZXIiLCJfIiwibmFtZSIsImlzSW5MaXN0IiwiZmluZCIsIml0ZW1zQ291bnQiLCJsZW5ndGgiLCJwdXNoIiwibWFwIiwicHJvZHVjdCIsImkiLCJpbWdfbGluayIsImN1cnJlbnRfcHJpY2VzIiwic3R5bGUiLCJjb2xvciIsImZvbnRTaXplIiwib25DbGljayIsImUiLCJwcmljZV9yZWdfX21pbiIsInByaWNlX3Byb21vX19taW4iLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlclJhZGl1cyIsIml0ZW0iLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9